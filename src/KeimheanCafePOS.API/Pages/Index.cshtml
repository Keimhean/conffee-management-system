@page
@{
    ViewData["Title"] = "KEIMHEAN Cafe - POS System";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <link rel="icon" type="image/x-icon" href="~/favicon.ico">
    <link rel="icon" type="image/svg+xml" href="~/icon.svg">
    <link rel="apple-touch-icon" sizes="192x192" href="~/icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="~/icon-512.png">
    <meta name="theme-color" content="#8B4513">
    <link rel="stylesheet" href="~/css/pos.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <img src="~/mylogo-64.png" alt="Cafe Logo" style="width: 64px; height: 64px; margin-right: 12px;">
                <div>
                    <h1>KEIMHEAN Cafe</h1>
                    <p>Point of Sale System</p>
                </div>
            </div>
            <div class="header-actions">
                <button onclick="refreshData()" class="btn-secondary">
                    <img src="~/icons/coffee-icon.svg" alt="" style="width:16px;height:16px;margin-right:4px;vertical-align:middle;"> Refresh
                </button>
                <button onclick="toggleReports()" class="btn-secondary">
                    <img src="~/icons/report.svg" alt="" style="width:16px;height:16px;margin-right:4px;vertical-align:middle;"> Reports
                </button>
            </div>
        </header>

        <!-- Reports Section -->
        <div id="reports-section" class="reports-section" style="display: none;">
            <div class="card">
                <h2>üìà Transaction Reports</h2>
                <div class="stats-grid" id="stats-grid"></div>
                <div class="transactions-list" id="transactions-list"></div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Products Section -->
            <div class="products-section">
                <div class="card">
                    <h2>üõçÔ∏è Products</h2>
                    
                    <!-- Categories -->
                    <div class="categories" id="categories"></div>
                    
                    <!-- Search -->
                    <div style="position:relative;">
                        <img src="~/icons/search.svg" alt="" style="position:absolute;left:12px;top:12px;width:16px;height:16px;pointer-events:none;">
                        <input type="text" id="search" class="search-input" placeholder="Search products..." style="padding-left:36px;">
                    </div>
                    
                    <!-- Products Grid -->
                    <div class="products-grid" id="products-grid"></div>
                </div>
            </div>

            <!-- Cart Section -->
            <div class="cart-section">
                <div class="card">
                    <div class="cart-header">
                        <div class="cart-icon">üõí</div>
                        <div>
                            <h2>Current Order</h2>
                            <p id="cart-count">0 items</p>
                        </div>
                    </div>

                    <input type="text" id="cashier-name" class="input" placeholder="Enter cashier name">

                    <div class="cart-items" id="cart-items"></div>

                    <div class="order-summary">
                        <div class="summary-row">
                            <span>Subtotal</span>
                            <span id="subtotal">$0.00</span>
                        </div>
                        <div class="summary-row">
                            <span>Tax (10%)</span>
                            <span id="tax">$0.00</span>
                        </div>
                        <div class="summary-row total">
                            <span>Total</span>
                            <span id="total">$0.00</span>
                        </div>
                    </div>

                    <div id="payment-section" style="display: none;">
                        <input type="number" id="cash-amount" class="input" placeholder="Cash amount" step="0.01">
                        <div id="change-display" class="change-display" style="display: none;">
                            Change: $<span id="change">0.00</span>
                        </div>
                        <div class="button-group">
                            <button onclick="cancelPayment()" class="btn-secondary">Cancel</button>
                            <button onclick="completePayment()" class="btn-success" id="complete-btn">Complete</button>
                        </div>
                    </div>

                    <button onclick="showPayment()" id="checkout-btn" class="btn-primary">
                        üí≥ Proceed to Checkout
                    </button>

                    <div id="success-message" class="success-message" style="display: none;">
                        <div class="success-icon">‚úì</div>
                        <h3>Order Complete!</h3>
                        <p>Transaction saved successfully</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="~/js/pos.js"></script>
</body>
</html>
